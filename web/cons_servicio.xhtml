<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:body>
        <ui:composition>
           <h:form id="ConsultarAcceso">
               <p:growl id="messages" showDetail="true" />
               
               <p:panel header="CONSULTAR ACCESOS" id="RegistroAcceso" style="width: 1000px;" >
                   
                   <p:toolbar>
                       
                       <f:facet name="left">
                           
                           <h:outputLabel for="items_empresa" value="Seleccione Empresa: "/>
                           <p:selectOneMenu value="#{empresaBean.empresa.nit_empresa}" id="ConsultarAcceso" style="font-weight: bold;">
                           <f:selectItem itemLabel="Seleccione..." itemValue="" />                                                
                           <f:selectItems value="#{empresaBean.itemsEmpresa}"/>    
                           <p:ajax update="items_subempresa"/>
                           </p:selectOneMenu>

                           <h:outputLabel for="items_subempresa" value="Seleccione Subempresa: "/>
                           <p:selectOneMenu value="#{empresaBean.subempresa.nit_subempresa}" id="items_subempresa" style="font-weight: bold;">
                           <f:selectItem itemLabel="Seleccione..." itemValue="" />                                                
                           <f:selectItems value="#{empresaBean.itemsSubempresas}"/>                            
                           </p:selectOneMenu>
                           
                           <span class="ui-separator">
                               <span class="ui-icon pi pi-ellipsis-v" />
                           </span>
                               
                               <f:facet name="right">
                               <p:commandButton update="dtListaAccesos" 
                               type="submit" 
                               value="Consultar" 
                               id="mostrar" 
                               icon="ui-icon-search" 
                               actionListener="#{accesoBean.mostrarAccesos()}"/>
                               </f:facet>
                       </f:facet>
                   </p:toolbar>
                   
                   <br>
                       <p:dataTable var="itemsAccesos" value="#{accesoBean.getlista_acceso()}" 
                            id="dtListaAccesos" 
                            style="font-size: 80%;  "
                            rows="20" paginator="true" emptyMessage="No hay resultados">
                           
                           <p:column headerText="NOMBRE DE LA EMPRESA" style="width:auto">
                               <h:outputText value="#{itemsAccesos.empresa.nom_empresa}" />
                                </p:column>  
                           <p:column headerText="SEDE" style="width:auto">
                               <h:outputText value="#{itemsAccesos.sub_empresa.nom_empresa}" />
                                </p:column>                             
                           <p:column headerText="NOMBRE DEL ACCESO" style="width:auto">
                               <h:outputText value="#{itemsAccesos.nom_acceso}" />
                                </p:column>      
                           <p:column headerText="IP LOCAL" style="width:auto">
                                        <h:outputText value="#{itemsAccesos.ip_local}" />
                                    </p:column>  
                           <p:column headerText="IP EXTERNA" style="width:auto">
                                        <h:outputText value="#{itemsAccesos.ip_externa}" />
                                    </p:column>  
                           <p:column headerText="USUARIO" style="width:auto">
                                        <h:outputText value="#{itemsAccesos.user_acceso}" />
                                    </p:column>  
                           <p:column headerText="CONTRASEÑA" style="width:auto">
                                        <h:outputText value="#{itemsAccesos.contraseña}" />
                                    </p:column>
                           
                           
                       </p:dataTable>
                   </br>
               </p:panel> 
           </h:form>
        
        </ui:composition>
    </h:body>
    
</html>
